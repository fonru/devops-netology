# Задача 1: API Gateway

> Предложите решение для обеспечения реализации API Gateway. Составьте сравнительную таблицу возможностей различных программных решений. На основе таблицы сделайте выбор решения.

>Решение должно соответствовать следующим требованиям:

> - маршрутизация запросов к нужному сервису на основе конфигурации,
> - возможность проверки аутентификационной информации в запросах,
> - обеспечение терминации HTTPS.

> Обоснуйте свой выбор.

## Решение

В качестве API Gateway выбор пал на 3 продукта:
- Kong Gateway
- Tyk 
- KrakenD

Ниже представлена сравнительная таблица решений

|| Kong Gateway | Tyk | KrakenD |
|----------|----------|----------|----------|
|Open Source| opensource\enterprise   | +   | opensource\enterprise    |
|Service Route| +    | +   | +   |
|Request authorization| + (Key Authentication plugin)   | +   | +   |
|HTTPS|+|+|+|

Исходя из вводных данных, т.к. компания крупная предполагается что сервис должен быть достаточно качественным и надежным. Предлагаемые решение (судя по описанию из сети Интернет) +\- равны. Мне понравилось больше всего решение Kong Gateway, которое судя по всему рассчитано на высоконагруженные системы, имеет возможность enterpise поддержки. По функционалу решение имеет все необходимые требования.

# Задача 2: Брокер сообщений

> Составьте таблицу возможностей различных брокеров сообщений. На основе таблицы сделайте обоснованный выбор решения.

>Решение должно соответствовать следующим требованиям:

> - поддержка кластеризации для обеспечения надёжности,
> - хранение сообщений на диске в процессе доставки,
> - высокая скорость работы,
> - поддержка различных форматов сообщений,
> - разделение прав доступа к различным потокам сообщений,
> - простота эксплуатации.

## Решение

В качестве MQ выбор пал на 3 продукта:
- Kafka 
- RabbitMQ
- Celery

|| Kafka  | RabbitMQ | Celery |
|----------|----------|----------|----------|
|кластеризации|+|+|-|
|хранение сообщений на диске|+| FIFO|FIFO|
|высокая скорость работы|+|+|+\-|
|поддержка различных форматов сообщений|+|+|+|
|разделение прав доступа|ролевое разделение доступа|+(к различным vhost\очередям)|+|
|простота эксплуатации|+|-|-|

Сложно сделать какой то конкретный выбор
Например, в случае сбора и агрегации множества событий от десятков систем, и сервисов с учётом их георезервирования, клиентских метрик, лог-файлов и аналитики с перспективой увеличения источников информации понадобится Kafka. А если необходим быстрый обмен сообщениями между несколькими сервисами, RabbitMQ отлично справится с этой задачей. Т.е из вводных данных не совсем понятно какие системы будут использоваться и взаимодействовать. А так по простоте использования\ производительности и функционала Kafka мне кажется нормально справится с задачей))